{"version":3,"file":"tooltip.js","sources":["../../../js/src/tooltip.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.3.0-alpha1): tooltip.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport * as Popper from '@popperjs/core'\nimport { defineJQueryPlugin, execute, findShadowRoot, getElement, getUID, isRTL, noop } from './util/index.js'\nimport { DefaultAllowlist } from './util/sanitizer.js'\nimport EventHandler from './dom/event-handler.js'\nimport Manipulator from './dom/manipulator.js'\nimport BaseComponent from './base-component.js'\nimport TemplateFactory from './util/template-factory.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'tooltip'\nconst DISALLOWED_ATTRIBUTES = new Set(['sanitize', 'allowList', 'sanitizeFn'])\n\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_MODAL = 'modal'\nconst CLASS_NAME_SHOW = 'show'\n\nconst SELECTOR_TOOLTIP_INNER = '.tooltip-inner'\nconst SELECTOR_MODAL = `.${CLASS_NAME_MODAL}`\n\nconst EVENT_MODAL_HIDE = 'hide.bs.modal'\n\nconst TRIGGER_HOVER = 'hover'\nconst TRIGGER_FOCUS = 'focus'\nconst TRIGGER_CLICK = 'click'\nconst TRIGGER_MANUAL = 'manual'\n\nconst EVENT_HIDE = 'hide'\nconst EVENT_HIDDEN = 'hidden'\nconst EVENT_SHOW = 'show'\nconst EVENT_SHOWN = 'shown'\nconst EVENT_INSERTED = 'inserted'\nconst EVENT_CLICK = 'click'\nconst EVENT_FOCUSIN = 'focusin'\nconst EVENT_FOCUSOUT = 'focusout'\nconst EVENT_MOUSEENTER = 'mouseenter'\nconst EVENT_MOUSELEAVE = 'mouseleave'\n\nconst AttachmentMap = {\n  AUTO: 'auto',\n  TOP: 'top',\n  RIGHT: isRTL() ? 'left' : 'right',\n  BOTTOM: 'bottom',\n  LEFT: isRTL() ? 'right' : 'left'\n}\n\nconst Default = {\n  allowList: DefaultAllowlist,\n  animation: true,\n  boundary: 'clippingParents',\n  container: false,\n  customClass: '',\n  delay: 0,\n  fallbackPlacements: ['top', 'right', 'bottom', 'left'],\n  html: false,\n  offset: [0, 0],\n  placement: 'top',\n  popperConfig: null,\n  sanitize: true,\n  sanitizeFn: null,\n  selector: false,\n  template: '<div class=\"tooltip\" role=\"tooltip\">' +\n            '<div class=\"tooltip-arrow\"></div>' +\n            '<div class=\"tooltip-inner\"></div>' +\n            '</div>',\n  title: '',\n  trigger: 'hover focus'\n}\n\nconst DefaultType = {\n  allowList: 'object',\n  animation: 'boolean',\n  boundary: '(string|element)',\n  container: '(string|element|boolean)',\n  customClass: '(string|function)',\n  delay: '(number|object)',\n  fallbackPlacements: 'array',\n  html: 'boolean',\n  offset: '(array|string|function)',\n  placement: '(string|function)',\n  popperConfig: '(null|object|function)',\n  sanitize: 'boolean',\n  sanitizeFn: '(null|function)',\n  selector: '(string|boolean)',\n  template: 'string',\n  title: '(string|element|function)',\n  trigger: 'string'\n}\n\n/**\n * Class definition\n */\n\nclass Tooltip extends BaseComponent {\n  constructor(element, config) {\n    if (typeof Popper === 'undefined') {\n      throw new TypeError('Bootstrap\\'s tooltips require Popper (https://popper.js.org)')\n    }\n\n    super(element, config)\n\n    // Private\n    this._isEnabled = true\n    this._timeout = 0\n    this._isHovered = null\n    this._activeTrigger = {}\n    this._popper = null\n    this._templateFactory = null\n    this._newContent = null\n\n    // Protected\n    this.tip = null\n\n    this._setListeners()\n\n    if (!this._config.selector) {\n      this._fixTitle()\n    }\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  enable() {\n    this._isEnabled = true\n  }\n\n  disable() {\n    this._isEnabled = false\n  }\n\n  toggleEnabled() {\n    this._isEnabled = !this._isEnabled\n  }\n\n  toggle() {\n    if (!this._isEnabled) {\n      return\n    }\n\n    this._activeTrigger.click = !this._activeTrigger.click\n    if (this._isShown()) {\n      this._leave()\n      return\n    }\n\n    this._enter()\n  }\n\n  dispose() {\n    clearTimeout(this._timeout)\n\n    EventHandler.off(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler)\n\n    if (this._element.getAttribute('data-bs-original-title')) {\n      this._element.setAttribute('title', this._element.getAttribute('data-bs-original-title'))\n    }\n\n    this._disposePopper()\n    super.dispose()\n  }\n\n  show() {\n    if (this._element.style.display === 'none') {\n      throw new Error('Please use show on visible elements')\n    }\n\n    if (!(this._isWithContent() && this._isEnabled)) {\n      return\n    }\n\n    const showEvent = EventHandler.trigger(this._element, this.constructor.eventName(EVENT_SHOW))\n    const shadowRoot = findShadowRoot(this._element)\n    const isInTheDom = (shadowRoot || this._element.ownerDocument.documentElement).contains(this._element)\n\n    if (showEvent.defaultPrevented || !isInTheDom) {\n      return\n    }\n\n    // todo v6 remove this OR make it optional\n    this._disposePopper()\n\n    const tip = this._getTipElement()\n\n    this._element.setAttribute('aria-describedby', tip.getAttribute('id'))\n\n    const { container } = this._config\n\n    if (!this._element.ownerDocument.documentElement.contains(this.tip)) {\n      container.append(tip)\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_INSERTED))\n    }\n\n    this._popper = this._createPopper(tip)\n\n    tip.classList.add(CLASS_NAME_SHOW)\n\n    // If this is a touch-enabled device we add extra\n    // empty mouseover listeners to the body's immediate children;\n    // only needed because of broken event delegation on iOS\n    // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.on(element, 'mouseover', noop)\n      }\n    }\n\n    const complete = () => {\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_SHOWN))\n\n      if (this._isHovered === false) {\n        this._leave()\n      }\n\n      this._isHovered = false\n    }\n\n    this._queueCallback(complete, this.tip, this._isAnimated())\n  }\n\n  hide() {\n    if (!this._isShown()) {\n      return\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, this.constructor.eventName(EVENT_HIDE))\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    const tip = this._getTipElement()\n    tip.classList.remove(CLASS_NAME_SHOW)\n\n    // If this is a touch-enabled device we remove the extra\n    // empty mouseover listeners we added for iOS support\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.off(element, 'mouseover', noop)\n      }\n    }\n\n    this._activeTrigger[TRIGGER_CLICK] = false\n    this._activeTrigger[TRIGGER_FOCUS] = false\n    this._activeTrigger[TRIGGER_HOVER] = false\n    this._isHovered = null // it is a trick to support manual triggering\n\n    const complete = () => {\n      if (this._isWithActiveTrigger()) {\n        return\n      }\n\n      if (!this._isHovered) {\n        this._disposePopper()\n      }\n\n      this._element.removeAttribute('aria-describedby')\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_HIDDEN))\n    }\n\n    this._queueCallback(complete, this.tip, this._isAnimated())\n  }\n\n  update() {\n    if (this._popper) {\n      this._popper.update()\n    }\n  }\n\n  // Protected\n  _isWithContent() {\n    return Boolean(this._getTitle())\n  }\n\n  _getTipElement() {\n    if (!this.tip) {\n      this.tip = this._createTipElement(this._newContent || this._getContentForTemplate())\n    }\n\n    return this.tip\n  }\n\n  _createTipElement(content) {\n    const tip = this._getTemplateFactory(content).toHtml()\n\n    // todo: remove this check on v6\n    if (!tip) {\n      return null\n    }\n\n    tip.classList.remove(CLASS_NAME_FADE, CLASS_NAME_SHOW)\n    // todo: on v6 the following can be achieved with CSS only\n    tip.classList.add(`bs-${this.constructor.NAME}-auto`)\n\n    const tipId = getUID(this.constructor.NAME).toString()\n\n    tip.setAttribute('id', tipId)\n\n    if (this._isAnimated()) {\n      tip.classList.add(CLASS_NAME_FADE)\n    }\n\n    return tip\n  }\n\n  setContent(content) {\n    this._newContent = content\n    if (this._isShown()) {\n      this._disposePopper()\n      this.show()\n    }\n  }\n\n  _getTemplateFactory(content) {\n    if (this._templateFactory) {\n      this._templateFactory.changeContent(content)\n    } else {\n      this._templateFactory = new TemplateFactory({\n        ...this._config,\n        // the `content` var has to be after `this._config`\n        // to override config.content in case of popover\n        content,\n        extraClass: this._resolvePossibleFunction(this._config.customClass)\n      })\n    }\n\n    return this._templateFactory\n  }\n\n  _getContentForTemplate() {\n    return {\n      [SELECTOR_TOOLTIP_INNER]: this._getTitle()\n    }\n  }\n\n  _getTitle() {\n    return this._resolvePossibleFunction(this._config.title) || this._element.getAttribute('data-bs-original-title')\n  }\n\n  // Private\n  _initializeOnDelegatedTarget(event) {\n    return this.constructor.getOrCreateInstance(event.delegateTarget, this._getDelegateConfig())\n  }\n\n  _isAnimated() {\n    return this._config.animation || (this.tip && this.tip.classList.contains(CLASS_NAME_FADE))\n  }\n\n  _isShown() {\n    return this.tip && this.tip.classList.contains(CLASS_NAME_SHOW)\n  }\n\n  _createPopper(tip) {\n    const placement = execute(this._config.placement, [this, tip, this._element])\n    const attachment = AttachmentMap[placement.toUpperCase()]\n    return Popper.createPopper(this._element, tip, this._getPopperConfig(attachment))\n  }\n\n  _getOffset() {\n    const { offset } = this._config\n\n    if (typeof offset === 'string') {\n      return offset.split(',').map(value => Number.parseInt(value, 10))\n    }\n\n    if (typeof offset === 'function') {\n      return popperData => offset(popperData, this._element)\n    }\n\n    return offset\n  }\n\n  _resolvePossibleFunction(arg) {\n    return execute(arg, [this._element])\n  }\n\n  _getPopperConfig(attachment) {\n    const defaultBsPopperConfig = {\n      placement: attachment,\n      modifiers: [\n        {\n          name: 'flip',\n          options: {\n            fallbackPlacements: this._config.fallbackPlacements\n          }\n        },\n        {\n          name: 'offset',\n          options: {\n            offset: this._getOffset()\n          }\n        },\n        {\n          name: 'preventOverflow',\n          options: {\n            boundary: this._config.boundary\n          }\n        },\n        {\n          name: 'arrow',\n          options: {\n            element: `.${this.constructor.NAME}-arrow`\n          }\n        },\n        {\n          name: 'preSetPlacement',\n          enabled: true,\n          phase: 'beforeMain',\n          fn: data => {\n            // Pre-set Popper's placement attribute in order to read the arrow sizes properly.\n            // Otherwise, Popper mixes up the width and height dimensions since the initial arrow style is for top placement\n            this._getTipElement().setAttribute('data-popper-placement', data.state.placement)\n          }\n        }\n      ]\n    }\n\n    return {\n      ...defaultBsPopperConfig,\n      ...execute(this._config.popperConfig, [defaultBsPopperConfig])\n    }\n  }\n\n  _setListeners() {\n    const triggers = this._config.trigger.split(' ')\n\n    for (const trigger of triggers) {\n      if (trigger === 'click') {\n        EventHandler.on(this._element, this.constructor.eventName(EVENT_CLICK), this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event)\n          context.toggle()\n        })\n      } else if (trigger !== TRIGGER_MANUAL) {\n        const eventIn = trigger === TRIGGER_HOVER ?\n          this.constructor.eventName(EVENT_MOUSEENTER) :\n          this.constructor.eventName(EVENT_FOCUSIN)\n        const eventOut = trigger === TRIGGER_HOVER ?\n          this.constructor.eventName(EVENT_MOUSELEAVE) :\n          this.constructor.eventName(EVENT_FOCUSOUT)\n\n        EventHandler.on(this._element, eventIn, this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event)\n          context._activeTrigger[event.type === 'focusin' ? TRIGGER_FOCUS : TRIGGER_HOVER] = true\n          context._enter()\n        })\n        EventHandler.on(this._element, eventOut, this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event)\n          context._activeTrigger[event.type === 'focusout' ? TRIGGER_FOCUS : TRIGGER_HOVER] =\n            context._element.contains(event.relatedTarget)\n\n          context._leave()\n        })\n      }\n    }\n\n    this._hideModalHandler = () => {\n      if (this._element) {\n        this.hide()\n      }\n    }\n\n    EventHandler.on(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler)\n  }\n\n  _fixTitle() {\n    const title = this._element.getAttribute('title')\n\n    if (!title) {\n      return\n    }\n\n    if (!this._element.getAttribute('aria-label') && !this._element.textContent.trim()) {\n      this._element.setAttribute('aria-label', title)\n    }\n\n    this._element.setAttribute('data-bs-original-title', title) // DO NOT USE IT. Is only for backwards compatibility\n    this._element.removeAttribute('title')\n  }\n\n  _enter() {\n    if (this._isShown() || this._isHovered) {\n      this._isHovered = true\n      return\n    }\n\n    this._isHovered = true\n\n    this._setTimeout(() => {\n      if (this._isHovered) {\n        this.show()\n      }\n    }, this._config.delay.show)\n  }\n\n  _leave() {\n    if (this._isWithActiveTrigger()) {\n      return\n    }\n\n    this._isHovered = false\n\n    this._setTimeout(() => {\n      if (!this._isHovered) {\n        this.hide()\n      }\n    }, this._config.delay.hide)\n  }\n\n  _setTimeout(handler, timeout) {\n    clearTimeout(this._timeout)\n    this._timeout = setTimeout(handler, timeout)\n  }\n\n  _isWithActiveTrigger() {\n    return Object.values(this._activeTrigger).includes(true)\n  }\n\n  _getConfig(config) {\n    const dataAttributes = Manipulator.getDataAttributes(this._element)\n\n    for (const dataAttribute of Object.keys(dataAttributes)) {\n      if (DISALLOWED_ATTRIBUTES.has(dataAttribute)) {\n        delete dataAttributes[dataAttribute]\n      }\n    }\n\n    config = {\n      ...dataAttributes,\n      ...(typeof config === 'object' && config ? config : {})\n    }\n    config = this._mergeConfigObj(config)\n    config = this._configAfterMerge(config)\n    this._typeCheckConfig(config)\n    return config\n  }\n\n  _configAfterMerge(config) {\n    config.container = config.container === false ? document.body : getElement(config.container)\n\n    if (typeof config.delay === 'number') {\n      config.delay = {\n        show: config.delay,\n        hide: config.delay\n      }\n    }\n\n    if (typeof config.title === 'number') {\n      config.title = config.title.toString()\n    }\n\n    if (typeof config.content === 'number') {\n      config.content = config.content.toString()\n    }\n\n    return config\n  }\n\n  _getDelegateConfig() {\n    const config = {}\n\n    for (const [key, value] of Object.entries(this._config)) {\n      if (this.constructor.Default[key] !== value) {\n        config[key] = value\n      }\n    }\n\n    config.selector = false\n    config.trigger = 'manual'\n\n    // In the future can be replaced with:\n    // const keysWithDifferentValues = Object.entries(this._config).filter(entry => this.constructor.Default[entry[0]] !== this._config[entry[0]])\n    // `Object.fromEntries(keysWithDifferentValues)`\n    return config\n  }\n\n  _disposePopper() {\n    if (this._popper) {\n      this._popper.destroy()\n      this._popper = null\n    }\n\n    if (this.tip) {\n      this.tip.remove()\n      this.tip = null\n    }\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Tooltip.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    })\n  }\n}\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Tooltip)\n\nexport default Tooltip\n"],"names":["NAME","DISALLOWED_ATTRIBUTES","Set","CLASS_NAME_FADE","CLASS_NAME_MODAL","CLASS_NAME_SHOW","SELECTOR_TOOLTIP_INNER","SELECTOR_MODAL","EVENT_MODAL_HIDE","TRIGGER_HOVER","TRIGGER_FOCUS","TRIGGER_CLICK","TRIGGER_MANUAL","EVENT_HIDE","EVENT_HIDDEN","EVENT_SHOW","EVENT_SHOWN","EVENT_INSERTED","EVENT_CLICK","EVENT_FOCUSIN","EVENT_FOCUSOUT","EVENT_MOUSEENTER","EVENT_MOUSELEAVE","AttachmentMap","AUTO","TOP","RIGHT","isRTL","BOTTOM","LEFT","Default","allowList","DefaultAllowlist","animation","boundary","container","customClass","delay","fallbackPlacements","html","offset","placement","popperConfig","sanitize","sanitizeFn","selector","template","title","trigger","DefaultType","Tooltip","BaseComponent","constructor","element","config","Popper","TypeError","_isEnabled","_timeout","_isHovered","_activeTrigger","_popper","_templateFactory","_newContent","tip","_setListeners","_config","_fixTitle","enable","disable","toggleEnabled","toggle","click","_isShown","_leave","_enter","dispose","clearTimeout","EventHandler","off","_element","closest","_hideModalHandler","getAttribute","setAttribute","_disposePopper","show","style","display","Error","_isWithContent","showEvent","eventName","shadowRoot","findShadowRoot","isInTheDom","ownerDocument","documentElement","contains","defaultPrevented","_getTipElement","append","_createPopper","classList","add","document","concat","body","children","on","noop","complete","_queueCallback","_isAnimated","hide","hideEvent","remove","_isWithActiveTrigger","removeAttribute","update","Boolean","_getTitle","_createTipElement","_getContentForTemplate","content","_getTemplateFactory","toHtml","tipId","getUID","toString","setContent","changeContent","TemplateFactory","extraClass","_resolvePossibleFunction","_initializeOnDelegatedTarget","event","getOrCreateInstance","delegateTarget","_getDelegateConfig","execute","attachment","toUpperCase","createPopper","_getPopperConfig","_getOffset","split","map","value","Number","parseInt","popperData","arg","defaultBsPopperConfig","modifiers","name","options","enabled","phase","fn","data","state","triggers","context","eventIn","eventOut","type","relatedTarget","textContent","trim","_setTimeout","handler","timeout","setTimeout","Object","values","includes","_getConfig","dataAttributes","Manipulator","getDataAttributes","dataAttribute","keys","has","_mergeConfigObj","_configAfterMerge","_typeCheckConfig","getElement","key","entries","destroy","jQueryInterface","each","defineJQueryPlugin"],"mappings":"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"}